module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},72852,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(59843),f=a.i(40947),g=a.i(45523);function h(){let a=(0,d.useParams)(),h=(0,d.useRouter)(),{user:i}=(0,f.useAuth)(),j=a.id,[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)("");(0,c.useEffect)(()=>{u()},[j]);let u=async()=>{try{let a=await g.default.get(`/questions/${j}`);l(a.data)}catch(a){r("Failed to load question")}finally{n(!1)}},v=async()=>{if("DELETE"!==s)return void r("Please type DELETE to confirm");p(!0),r("");try{await g.default.delete(`/questions/${j}`),h.push("/questions?deleted=true")}catch(a){r(a.response?.data?.message||"Failed to delete question")}finally{p(!1)}};return m?(0,b.jsx)("div",{className:"container py-5 text-center",children:(0,b.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):k?(0,b.jsx)("div",{className:"container py-4",children:(0,b.jsx)("div",{className:"row justify-content-center",children:(0,b.jsxs)("div",{className:"col-lg-8",children:[(0,b.jsx)("nav",{"aria-label":"breadcrumb",className:"mb-4",children:(0,b.jsxs)("ol",{className:"breadcrumb",children:[(0,b.jsx)("li",{className:"breadcrumb-item",children:(0,b.jsx)(e.default,{href:"/",children:"Home"})}),(0,b.jsx)("li",{className:"breadcrumb-item",children:(0,b.jsx)(e.default,{href:"/questions",children:"Questions"})}),(0,b.jsx)("li",{className:"breadcrumb-item",children:(0,b.jsxs)(e.default,{href:`/questions/${j}`,children:[k.title.substring(0,30),"..."]})}),(0,b.jsx)("li",{className:"breadcrumb-item active",children:"Delete"})]})}),(0,b.jsxs)("div",{className:"card border-danger rounded-4 shadow-sm",children:[(0,b.jsx)("div",{className:"card-header bg-danger text-white py-3 rounded-top-4",children:(0,b.jsxs)("h1",{className:"card-title fs-4 fw-bold mb-0",children:[(0,b.jsx)("i",{className:"bi bi-exclamation-triangle-fill me-2"}),"Delete Question"]})}),(0,b.jsxs)("div",{className:"card-body p-4",children:[(0,b.jsxs)("div",{className:"alert alert-danger d-flex align-items-start mb-4",children:[(0,b.jsx)("i",{className:"bi bi-exclamation-triangle-fill fs-4 me-3"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h5",{className:"alert-heading",children:"Warning: This action cannot be undone!"}),(0,b.jsx)("p",{className:"mb-0",children:"Once you delete this question, all associated answers, comments, and votes will be permanently removed."})]})]}),(0,b.jsx)("div",{className:"card bg-light border-0 rounded-3 mb-4",children:(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsx)("h5",{className:"fw-bold mb-3",children:k.title}),(0,b.jsxs)("p",{className:"text-muted mb-3",style:{maxHeight:"100px",overflow:"hidden"},children:[k.bodyExcerpt||k.body.substring(0,200),"..."]}),(0,b.jsxs)("div",{className:"d-flex gap-3 text-muted small",children:[(0,b.jsxs)("span",{children:[(0,b.jsx)("i",{className:"bi bi-eye me-1"}),k.viewCount," views"]}),(0,b.jsxs)("span",{children:[(0,b.jsx)("i",{className:"bi bi-hand-thumbs-up me-1"}),k.score," votes"]}),(0,b.jsxs)("span",{children:[(0,b.jsx)("i",{className:"bi bi-chat-left-text me-1"}),k.answerCount," answers"]})]})]})}),q&&(0,b.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,b.jsx)("i",{className:"bi bi-exclamation-circle me-2"}),q]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("label",{className:"form-label fw-semibold",children:["To confirm, type ",(0,b.jsx)("code",{children:"DELETE"})," in the box below:"]}),(0,b.jsx)("input",{type:"text",className:"form-control",value:s,onChange:a=>t(a.target.value.toUpperCase()),placeholder:"Type DELETE to confirm"})]}),(0,b.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,b.jsxs)(e.default,{href:`/questions/${j}`,className:"btn btn-outline-secondary rounded-pill",children:[(0,b.jsx)("i",{className:"bi bi-arrow-left me-1"}),"Cancel"]}),(0,b.jsx)("button",{type:"button",className:"btn btn-danger rounded-pill px-4",onClick:v,disabled:o||"DELETE"!==s,children:o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Deleting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"bi bi-trash me-1"}),"Delete Question"]})})]})]})]})]})})}):(0,b.jsxs)("div",{className:"container py-5 text-center",children:[(0,b.jsx)("i",{className:"bi bi-exclamation-triangle fs-1 text-warning mb-3"}),(0,b.jsx)("h3",{children:"Question not found"}),(0,b.jsx)(e.default,{href:"/questions",className:"btn btn-primary mt-3",children:"Back to Questions"})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__63ac66e1._.js.map