module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},14138,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(40947),f=a.i(45523);function g(){let{user:a,isLoading:g,logout:h}=(0,e.useAuth)(),i=(0,d.useRouter)(),[j,k]=(0,c.useState)("profile"),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)({type:"",text:""}),[p,q]=(0,c.useState)({displayName:"",email:"",bio:"",location:"",website:""}),[r,s]=(0,c.useState)({currentPassword:"",newPassword:"",confirmPassword:""});(0,c.useEffect)(()=>{g||a?a&&q({displayName:a.displayName||"",email:a.email||"",bio:"",location:"",website:""}):i.push("/login")},[a,g,i]);let t=async a=>{a.preventDefault(),m(!0),o({type:"",text:""});try{await f.default.put("/users/profile",p),o({type:"success",text:"Profile updated successfully"})}catch(a){o({type:"error",text:a.response?.data?.message||"Failed to update profile"})}finally{m(!1)}},u=async a=>{if(a.preventDefault(),r.newPassword!==r.confirmPassword)return void o({type:"error",text:"Passwords do not match"});m(!0),o({type:"",text:""});try{await f.default.post("/auth/change-password",{currentPassword:r.currentPassword,newPassword:r.newPassword}),o({type:"success",text:"Password changed successfully"}),s({currentPassword:"",newPassword:"",confirmPassword:""})}catch(a){o({type:"error",text:a.response?.data?.message||"Failed to change password"})}finally{m(!1)}};return g?(0,b.jsx)("div",{className:"container py-5 text-center",children:(0,b.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):a?(0,b.jsx)("div",{className:"container py-4",children:(0,b.jsxs)("div",{className:"row",children:[(0,b.jsx)("div",{className:"col-lg-3 mb-4",children:(0,b.jsx)("div",{className:"card border-0 shadow-sm rounded-4",children:(0,b.jsxs)("div",{className:"card-body p-0",children:[(0,b.jsxs)("div",{className:"text-center p-4 border-bottom",children:[(0,b.jsx)("img",{src:a.profilePicture||"/images/default-avatar.png",className:"rounded-circle mb-3",width:"80",height:"80",alt:""}),(0,b.jsx)("h6",{className:"fw-bold mb-0",children:a.displayName||a.username}),(0,b.jsxs)("small",{className:"text-muted",children:["@",a.username]})]}),(0,b.jsxs)("div",{className:"list-group list-group-flush",children:[(0,b.jsxs)("button",{className:`list-group-item list-group-item-action ${"profile"===j?"active":""}`,onClick:()=>k("profile"),children:[(0,b.jsx)("i",{className:"bi bi-person me-2"}),"Profile"]}),(0,b.jsxs)("button",{className:`list-group-item list-group-item-action ${"account"===j?"active":""}`,onClick:()=>k("account"),children:[(0,b.jsx)("i",{className:"bi bi-shield-lock me-2"}),"Account & Security"]}),(0,b.jsxs)("button",{className:`list-group-item list-group-item-action ${"notifications"===j?"active":""}`,onClick:()=>k("notifications"),children:[(0,b.jsx)("i",{className:"bi bi-bell me-2"}),"Notifications"]}),(0,b.jsxs)("button",{className:`list-group-item list-group-item-action ${"preferences"===j?"active":""}`,onClick:()=>k("preferences"),children:[(0,b.jsx)("i",{className:"bi bi-sliders me-2"}),"Preferences"]})]})]})})}),(0,b.jsxs)("div",{className:"col-lg-9",children:[n.text&&(0,b.jsxs)("div",{className:`alert alert-${"success"===n.type?"success":"danger"} alert-dismissible fade show`,role:"alert",children:[(0,b.jsx)("i",{className:`bi bi-${"success"===n.type?"check-circle":"exclamation-circle"} me-2`}),n.text,(0,b.jsx)("button",{type:"button",className:"btn-close",onClick:()=>o({type:"",text:""})})]}),"profile"===j&&(0,b.jsxs)("div",{className:"card border-0 shadow-sm rounded-4",children:[(0,b.jsx)("div",{className:"card-header bg-white border-0 pt-4",children:(0,b.jsx)("h5",{className:"fw-bold mb-0",children:"Profile Settings"})}),(0,b.jsx)("div",{className:"card-body",children:(0,b.jsxs)("form",{onSubmit:t,children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"form-label fw-semibold",children:"Display Name"}),(0,b.jsx)("input",{type:"text",className:"form-control",value:p.displayName,onChange:a=>q({...p,displayName:a.target.value})})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"form-label fw-semibold",children:"Email"}),(0,b.jsx)("input",{type:"email",className:"form-control",value:p.email,onChange:a=>q({...p,email:a.target.value})})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"form-label fw-semibold",children:"Bio"}),(0,b.jsx)("textarea",{className:"form-control",rows:3,value:p.bio,onChange:a=>q({...p,bio:a.target.value}),placeholder:"Tell us about yourself..."})]}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,b.jsx)("label",{className:"form-label fw-semibold",children:"Location"}),(0,b.jsx)("input",{type:"text",className:"form-control",value:p.location,onChange:a=>q({...p,location:a.target.value}),placeholder:"City, Country"})]}),(0,b.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,b.jsx)("label",{className:"form-label fw-semibold",children:"Website"}),(0,b.jsx)("input",{type:"url",className:"form-control",value:p.website,onChange:a=>q({...p,website:a.target.value}),placeholder:"https://..."})]})]}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary rounded-pill px-4",disabled:l,children:l?"Saving...":"Save Changes"})]})})]}),"account"===j&&(0,b.jsxs)("div",{className:"card border-0 shadow-sm rounded-4",children:[(0,b.jsx)("div",{className:"card-header bg-white border-0 pt-4",children:(0,b.jsx)("h5",{className:"fw-bold mb-0",children:"Account & Security"})}),(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsx)("h6",{className:"fw-semibold mb-3",children:"Change Password"}),(0,b.jsxs)("form",{onSubmit:u,children:[(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{className:"form-label",children:"Current Password"}),(0,b.jsx)("input",{type:"password",className:"form-control",value:r.currentPassword,onChange:a=>s({...r,currentPassword:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{className:"form-label",children:"New Password"}),(0,b.jsx)("input",{type:"password",className:"form-control",value:r.newPassword,onChange:a=>s({...r,newPassword:a.target.value}),minLength:6,required:!0})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"form-label",children:"Confirm New Password"}),(0,b.jsx)("input",{type:"password",className:"form-control",value:r.confirmPassword,onChange:a=>s({...r,confirmPassword:a.target.value}),required:!0})]}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary rounded-pill px-4",disabled:l,children:l?"Updating...":"Update Password"})]}),(0,b.jsx)("hr",{className:"my-4"}),(0,b.jsx)("h6",{className:"fw-semibold mb-3 text-danger",children:"Danger Zone"}),(0,b.jsxs)("button",{className:"btn btn-outline-danger rounded-pill",onClick:h,children:[(0,b.jsx)("i",{className:"bi bi-box-arrow-right me-2"}),"Sign Out"]})]})]}),"notifications"===j&&(0,b.jsxs)("div",{className:"card border-0 shadow-sm rounded-4",children:[(0,b.jsx)("div",{className:"card-header bg-white border-0 pt-4",children:(0,b.jsx)("h5",{className:"fw-bold mb-0",children:"Notification Settings"})}),(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsxs)("div",{className:"form-check form-switch mb-3",children:[(0,b.jsx)("input",{className:"form-check-input",type:"checkbox",id:"emailNotif",defaultChecked:!0}),(0,b.jsx)("label",{className:"form-check-label",htmlFor:"emailNotif",children:"Email notifications"})]}),(0,b.jsxs)("div",{className:"form-check form-switch mb-3",children:[(0,b.jsx)("input",{className:"form-check-input",type:"checkbox",id:"pushNotif",defaultChecked:!0}),(0,b.jsx)("label",{className:"form-check-label",htmlFor:"pushNotif",children:"Push notifications"})]}),(0,b.jsxs)("div",{className:"form-check form-switch mb-3",children:[(0,b.jsx)("input",{className:"form-check-input",type:"checkbox",id:"answerNotif",defaultChecked:!0}),(0,b.jsx)("label",{className:"form-check-label",htmlFor:"answerNotif",children:"Notify when someone answers my question"})]}),(0,b.jsxs)("div",{className:"form-check form-switch",children:[(0,b.jsx)("input",{className:"form-check-input",type:"checkbox",id:"mentionNotif",defaultChecked:!0}),(0,b.jsx)("label",{className:"form-check-label",htmlFor:"mentionNotif",children:"Notify when someone mentions me"})]})]})]}),"preferences"===j&&(0,b.jsxs)("div",{className:"card border-0 shadow-sm rounded-4",children:[(0,b.jsx)("div",{className:"card-header bg-white border-0 pt-4",children:(0,b.jsx)("h5",{className:"fw-bold mb-0",children:"Preferences"})}),(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"form-label fw-semibold",children:"Theme"}),(0,b.jsxs)("select",{className:"form-select",children:[(0,b.jsx)("option",{value:"light",children:"Light"}),(0,b.jsx)("option",{value:"dark",children:"Dark"}),(0,b.jsx)("option",{value:"system",children:"System"})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"form-label fw-semibold",children:"Language"}),(0,b.jsxs)("select",{className:"form-select",children:[(0,b.jsx)("option",{value:"en",children:"English"}),(0,b.jsx)("option",{value:"vi",children:"Tiếng Việt"})]})]})]})]})]})]})}):null}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6edb4704._.js.map