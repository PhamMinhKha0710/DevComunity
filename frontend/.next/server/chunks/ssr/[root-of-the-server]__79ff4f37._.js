module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},81493,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(59843),f=a.i(40947),g=a.i(45523);function h(){let{id:a}=(0,d.useParams)(),{user:h}=(0,f.useAuth)(),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!1);(0,c.useEffect)(()=>{s()},[a]);let s=async()=>{try{let[b,c]=await Promise.all([g.default.get(`/questions/${a}`),g.default.get(`/questions/${a}/answers`)]);j(b.data),l(c.data||[])}catch(a){console.error("Failed to fetch question:",a)}finally{n(!1)}},t=async(a,b,c)=>{if(h)try{await g.default.post("/votes",{targetType:b,targetId:c,isUpvote:"up"===a}),s()}catch(a){console.error("Vote failed:",a)}},u=async b=>{if(b.preventDefault(),o.trim()&&h){r(!0);try{await g.default.post("/answers",{questionId:Number(a),body:o}),p(""),s()}catch(a){console.error("Failed to submit answer:",a)}finally{r(!1)}}};return m?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):i?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,b.jsx)(e.default,{href:"/",className:"text-2xl font-bold text-orange-500",children:"DevComunity"})})}),(0,b.jsxs)("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:i.title}),(0,b.jsxs)("div",{className:"flex gap-6",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>t("up","question",i.questionId),className:`p-2 rounded hover:bg-gray-100 ${"up"===i.userVoteType?"text-orange-500":"text-gray-400"}`,children:"▲"}),(0,b.jsx)("span",{className:"text-xl font-semibold",children:i.score}),(0,b.jsx)("button",{onClick:()=>t("down","question",i.questionId),className:`p-2 rounded hover:bg-gray-100 ${"down"===i.userVoteType?"text-orange-500":"text-gray-400"}`,children:"▼"})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:i.body}}),(0,b.jsx)("div",{className:"mt-6 flex gap-2 flex-wrap",children:i.tags?.map(a=>(0,b.jsx)("span",{className:"bg-blue-50 text-blue-600 px-2 py-1 rounded text-sm",children:a.tagName},a.tagId))}),(0,b.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["asked by ",(0,b.jsx)("span",{className:"text-blue-600",children:i.authorUsername})]})]})]})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:[k.length," Answers"]}),k.map(a=>(0,b.jsx)("div",{className:`bg-white rounded-lg shadow p-6 mb-4 ${a.isAccepted?"border-l-4 border-green-500":""}`,children:(0,b.jsxs)("div",{className:"flex gap-6",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>t("up","answer",a.answerId),className:`p-2 rounded hover:bg-gray-100 ${"up"===a.userVoteType?"text-orange-500":"text-gray-400"}`,children:"▲"}),(0,b.jsx)("span",{className:"text-xl font-semibold",children:a.score}),(0,b.jsx)("button",{onClick:()=>t("down","answer",a.answerId),className:`p-2 rounded hover:bg-gray-100 ${"down"===a.userVoteType?"text-orange-500":"text-gray-400"}`,children:"▼"}),a.isAccepted&&(0,b.jsx)("span",{className:"text-green-500 text-2xl",children:"✓"})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:a.body}}),(0,b.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["answered by ",(0,b.jsx)("span",{className:"text-blue-600",children:a.authorUsername})]})]})]})},a.answerId))]}),h?(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Answer"}),(0,b.jsxs)("form",{onSubmit:u,children:[(0,b.jsx)("textarea",{value:o,onChange:a=>p(a.target.value),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500",placeholder:"Write your answer here...",required:!0}),(0,b.jsx)("button",{type:"submit",disabled:q,className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 transition",children:q?"Posting...":"Post Your Answer"})]})]}):(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)(e.default,{href:"/login",className:"text-orange-500 hover:text-orange-600",children:"Log in"})," to post an answer"]})})]})]}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Question not found"}),(0,b.jsx)(e.default,{href:"/",className:"mt-4 inline-block text-orange-500 hover:text-orange-600",children:"← Back to home"})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__79ff4f37._.js.map