{"version":3,"sources":["../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../frontend/src/app/repositories/create/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport type { CreateRepositoryRequest } from '@/types';\r\nimport apiClient from '@/api/client';\r\n\r\nexport default function CreateRepositoryPage() {\r\n    const { user, isLoading: authLoading } = useAuth();\r\n    const router = useRouter();\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [formData, setFormData] = useState<CreateRepositoryRequest>({\r\n        name: '',\r\n        description: '',\r\n        isPrivate: false,\r\n    });\r\n\r\n    if (authLoading) {\r\n        return (\r\n            <div className=\"container py-5 text-center\">\r\n                <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!user) {\r\n        router.push('/login');\r\n        return null;\r\n    }\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setIsSubmitting(true);\r\n        setError('');\r\n\r\n        try {\r\n            const response = await apiClient.post('/repositories', formData);\r\n            router.push(`/repositories/${response.data.repositoryId}`);\r\n        } catch (err: any) {\r\n            setError(err.response?.data?.message || 'Failed to create repository');\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container py-4\">\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-lg-8\">\r\n                    {/* Header */}\r\n                    <div className=\"mb-4\">\r\n                        <nav aria-label=\"breadcrumb\">\r\n                            <ol className=\"breadcrumb\">\r\n                                <li className=\"breadcrumb-item\"><Link href=\"/repositories\">Repositories</Link></li>\r\n                                <li className=\"breadcrumb-item active\">Create New</li>\r\n                            </ol>\r\n                        </nav>\r\n                        <h1 className=\"fw-bold\">\r\n                            <i className=\"bi bi-plus-circle me-2\"></i>Create a new repository\r\n                        </h1>\r\n                        <p className=\"text-muted\">\r\n                            A repository contains all project files, including the revision history.\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Form */}\r\n                    <div className=\"card border-0 shadow-sm rounded-4\">\r\n                        <div className=\"card-body p-4\">\r\n                            {error && (\r\n                                <div className=\"alert alert-danger\" role=\"alert\">\r\n                                    <i className=\"bi bi-exclamation-circle me-2\"></i>{error}\r\n                                </div>\r\n                            )}\r\n\r\n                            <form onSubmit={handleSubmit}>\r\n                                {/* Owner + Name */}\r\n                                <div className=\"mb-4\">\r\n                                    <label className=\"form-label fw-semibold\">Owner / Repository name *</label>\r\n                                    <div className=\"d-flex align-items-center gap-2\">\r\n                                        <div className=\"d-flex align-items-center bg-light rounded-pill px-3 py-2\">\r\n                                            <img\r\n                                                src={user.profilePicture || '/images/default-avatar.png'}\r\n                                                className=\"rounded-circle me-2\"\r\n                                                width=\"24\"\r\n                                                height=\"24\"\r\n                                                alt=\"\"\r\n                                            />\r\n                                            <span>{user.username}</span>\r\n                                        </div>\r\n                                        <span className=\"text-muted\">/</span>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"repository-name\"\r\n                                            value={formData.name}\r\n                                            onChange={(e) => setFormData({ ...formData, name: e.target.value.toLowerCase().replace(/\\s+/g, '-') })}\r\n                                            required\r\n                                            pattern=\"[a-z0-9-]+\"\r\n                                        />\r\n                                    </div>\r\n                                    <small className=\"text-muted\">\r\n                                        Great repository names are short and memorable.\r\n                                    </small>\r\n                                </div>\r\n\r\n                                {/* Description */}\r\n                                <div className=\"mb-4\">\r\n                                    <label className=\"form-label fw-semibold\">Description (optional)</label>\r\n                                    <textarea\r\n                                        className=\"form-control\"\r\n                                        rows={3}\r\n                                        placeholder=\"A short description of what this repository is about...\"\r\n                                        value={formData.description}\r\n                                        onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Visibility */}\r\n                                <div className=\"mb-4\">\r\n                                    <label className=\"form-label fw-semibold\">Visibility</label>\r\n                                    <div className=\"d-flex flex-column gap-2\">\r\n                                        <div className=\"form-check p-3 border rounded-3\">\r\n                                            <input\r\n                                                className=\"form-check-input\"\r\n                                                type=\"radio\"\r\n                                                name=\"visibility\"\r\n                                                id=\"public\"\r\n                                                checked={!formData.isPrivate}\r\n                                                onChange={() => setFormData({ ...formData, isPrivate: false })}\r\n                                            />\r\n                                            <label className=\"form-check-label w-100\" htmlFor=\"public\">\r\n                                                <div className=\"d-flex align-items-center\">\r\n                                                    <i className=\"bi bi-unlock fs-4 me-3 text-success\"></i>\r\n                                                    <div>\r\n                                                        <strong>Public</strong>\r\n                                                        <p className=\"text-muted mb-0 small\">\r\n                                                            Anyone on the internet can see this repository.\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </label>\r\n                                        </div>\r\n                                        <div className=\"form-check p-3 border rounded-3\">\r\n                                            <input\r\n                                                className=\"form-check-input\"\r\n                                                type=\"radio\"\r\n                                                name=\"visibility\"\r\n                                                id=\"private\"\r\n                                                checked={formData.isPrivate}\r\n                                                onChange={() => setFormData({ ...formData, isPrivate: true })}\r\n                                            />\r\n                                            <label className=\"form-check-label w-100\" htmlFor=\"private\">\r\n                                                <div className=\"d-flex align-items-center\">\r\n                                                    <i className=\"bi bi-lock fs-4 me-3 text-warning\"></i>\r\n                                                    <div>\r\n                                                        <strong>Private</strong>\r\n                                                        <p className=\"text-muted mb-0 small\">\r\n                                                            You choose who can see and commit to this repository.\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <hr className=\"my-4\" />\r\n\r\n                                <div className=\"d-flex justify-content-between\">\r\n                                    <Link href=\"/repositories\" className=\"btn btn-outline-secondary rounded-pill\">\r\n                                        Cancel\r\n                                    </Link>\r\n                                    <button\r\n                                        type=\"submit\"\r\n                                        className=\"btn btn-primary rounded-pill px-4\"\r\n                                        disabled={isSubmitting || !formData.name}\r\n                                    >\r\n                                        {isSubmitting ? (\r\n                                            <>\r\n                                                <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\r\n                                                Creating...\r\n                                            </>\r\n                                        ) : (\r\n                                            <>\r\n                                                <i className=\"bi bi-plus-circle me-2\"></i>Create repository\r\n                                            </>\r\n                                        )}\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"+iBAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,kBAAkB,+BCFzCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,0CCAzC,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACpB,GAAM,MAAE,CAAI,CAAE,UAAW,CAAW,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAC1C,EAAS,CAAA,EAAA,EAAA,SAAS,AAAT,IACT,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IAC7B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA0B,CAC9D,KAAM,GACN,YAAa,GACb,WAAW,CACf,GAEA,GAAI,EACA,MACI,CAAA,EAAA,EAAA,AAFS,GAET,EAAC,MAAA,CAAI,UAAU,sCACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAA8B,KAAK,kBAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2BAAkB,mBAMlD,GAAI,CAAC,EAED,IAFO,GACP,EAAO,IAAI,CAAC,UACL,KAGX,IAAM,EAAe,MAAO,IACxB,EAAE,cAAc,GAChB,GAAgB,GAChB,EAAS,IAET,GAAI,CACA,IAAM,EAAW,MAAM,EAAA,OAAS,CAAC,IAAI,CAAC,gBAAiB,GACvD,EAAO,IAAI,CAAC,CAAC,cAAc,EAAE,EAAS,IAAI,CAAC,YAAY,CAAA,CAAE,CAC7D,CAAE,MAAO,EAAU,CACf,EAAS,EAAI,QAAQ,EAAE,MAAM,SAAW,8BAC5C,QAAU,CACN,GAAgB,EACpB,CACJ,EAEA,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBAEX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,aAAW,sBACZ,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,uBACV,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2BAAkB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,yBAAgB,mBAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAAyB,oBAG/C,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,oBACV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2BAA6B,6BAE9C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sBAAa,gFAM9B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACV,GACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBAAqB,KAAK,kBACrC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAAqC,KAI1D,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,YAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,kCAAyB,8BAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sEACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,IAAK,EAAK,cAAc,EAAI,6BAC5B,UAAU,sBACV,MAAM,KACN,OAAO,KACP,IAAI,KAER,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAK,QAAQ,MAExB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sBAAa,MAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,OACL,UAAU,eACV,YAAY,kBACZ,MAAO,EAAS,IAAI,CACpB,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,CAAC,WAAW,GAAG,OAAO,CAAC,OAAQ,IAAK,GACpG,QAAQ,CAAA,CAAA,EACR,QAAQ,kBAGhB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,sBAAa,uDAMlC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,kCAAyB,2BAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACG,UAAU,eACV,KAAM,EACN,YAAY,0DACZ,MAAO,EAAS,WAAW,CAC3B,SAAU,AAAC,GAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,YAAa,EAAE,MAAM,CAAC,KAAK,AAAC,QAKhF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,kCAAyB,eAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qCACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,UAAU,mBACV,KAAK,QACL,KAAK,aACL,GAAG,SACH,QAAS,CAAC,EAAS,SAAS,CAC5B,SAAU,IAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,UAAW,EAAM,KAEhE,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,yBAAyB,QAAQ,kBAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,WACR,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,+DAOrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,UAAU,mBACV,KAAK,QACL,KAAK,aACL,GAAG,UACH,QAAS,EAAS,SAAS,CAC3B,SAAU,IAAM,EAAY,CAAE,GAAG,CAAQ,CAAE,WAAW,CAAK,KAE/D,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,yBAAyB,QAAQ,mBAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,YACR,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,2EAU7D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,SAEd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,gBAAgB,UAAU,kDAAyC,WAG9E,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,UAAU,oCACV,SAAU,GAAgB,CAAC,EAAS,IAAI,UAEvC,EACG,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAAwC,KAAK,WAAgB,iBAIjF,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACI,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2BAA6B,0CAY1F","ignoreList":[0,1]}