module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},6166,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(59843),e=a.i(93609),f=a.i(40947),g=a.i(45523);let h=a=>a?a.replace(/<[^>]*>/g,"").substring(0,150):"";function i(){let{user:a,isLoading:i}=(0,f.useAuth)(),j=(0,e.useRouter)(),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)("all");(0,c.useEffect)(()=>{i||a?a&&q():j.push("/login")},[a,i,j]);let q=async()=>{try{let a=await g.default.get("/saved");l(a.data.items||[])}catch(a){console.error("Failed to fetch saved items:",a)}finally{n(!1)}},r=async a=>{try{await g.default.delete(`/saved/${a}`),l(b=>b.filter(b=>b.savedItemId!==a))}catch(a){console.error("Failed to remove saved item:",a)}},s=k.filter(a=>"all"===o||("questions"===o?"Question"===a.targetType:"answers"!==o||"Answer"===a.targetType));return i||m?(0,b.jsx)("div",{className:"container py-5 text-center",children:(0,b.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):a?(0,b.jsxs)("div",{className:"container py-4",children:[(0,b.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"fw-bold mb-1",children:[(0,b.jsx)("i",{className:"bi bi-bookmark me-2"}),"Saved Items"]}),(0,b.jsxs)("p",{className:"text-muted mb-0",children:[k.length," items saved"]})]})}),(0,b.jsx)("div",{className:"card border-0 shadow-sm rounded-4 mb-4",children:(0,b.jsx)("div",{className:"card-body p-3",children:(0,b.jsxs)("div",{className:"d-flex gap-2",children:[(0,b.jsxs)("button",{className:`btn btn-sm rounded-pill ${"all"===o?"btn-primary":"btn-outline-secondary"}`,onClick:()=>p("all"),children:["All (",k.length,")"]}),(0,b.jsxs)("button",{className:`btn btn-sm rounded-pill ${"questions"===o?"btn-primary":"btn-outline-secondary"}`,onClick:()=>p("questions"),children:[(0,b.jsx)("i",{className:"bi bi-question-circle me-1"}),"Questions (",k.filter(a=>"Question"===a.targetType).length,")"]}),(0,b.jsxs)("button",{className:`btn btn-sm rounded-pill ${"answers"===o?"btn-primary":"btn-outline-secondary"}`,onClick:()=>p("answers"),children:[(0,b.jsx)("i",{className:"bi bi-chat-left-text me-1"}),"Answers (",k.filter(a=>"Answer"===a.targetType).length,")"]})]})})}),(0,b.jsx)("div",{className:"card border-0 shadow-sm rounded-4",children:s.length>0?(0,b.jsx)("div",{className:"list-group list-group-flush",children:s.map(a=>(0,b.jsx)("div",{className:"list-group-item p-4 border-0 border-bottom",children:(0,b.jsxs)("div",{className:"row align-items-center",children:[(0,b.jsx)("div",{className:"col-auto",children:(0,b.jsx)("div",{className:`rounded-3 p-2 ${"Question"===a.targetType?"bg-primary-subtle":"bg-success-subtle"}`,children:(0,b.jsx)("i",{className:`bi ${"Question"===a.targetType?"bi-question-circle text-primary":"bi-chat-left-text text-success"} fs-5`})})}),(0,b.jsxs)("div",{className:"col",children:[(0,b.jsx)("span",{className:"badge bg-light text-dark mb-2",children:a.targetType}),(0,b.jsx)("h6",{className:"mb-1 fw-bold",children:"Question"===a.targetType&&a.question?(0,b.jsx)(d.default,{href:`/questions/${a.question.questionId}`,className:"text-decoration-none text-dark",children:a.question.title}):"Answer"===a.targetType&&a.answer?(0,b.jsx)(d.default,{href:`/questions/${a.answer.questionId}#answer-${a.answer.answerId}`,className:"text-decoration-none text-dark",children:"Answer to question"}):(0,b.jsx)("span",{children:"Saved item"})}),(0,b.jsx)("p",{className:"text-muted small mb-0",children:"Question"===a.targetType&&a.question?h(a.question.body)+"...":"Answer"===a.targetType&&a.answer?h(a.answer.body)+"...":""}),(0,b.jsxs)("small",{className:"text-muted",children:["Saved on ",new Date(a.createdDate).toLocaleDateString()]})]}),(0,b.jsx)("div",{className:"col-auto",children:(0,b.jsxs)("button",{className:"btn btn-sm btn-outline-danger rounded-pill",onClick:()=>r(a.savedItemId),children:[(0,b.jsx)("i",{className:"bi bi-bookmark-x me-1"}),"Remove"]})})]})},a.savedItemId))}):(0,b.jsxs)("div",{className:"card-body text-center py-5",children:[(0,b.jsx)("i",{className:"bi bi-bookmark fs-1 text-muted mb-3"}),(0,b.jsx)("h5",{children:"No saved items"}),(0,b.jsx)("p",{className:"text-muted mb-4",children:"Save questions and answers to read later"}),(0,b.jsx)(d.default,{href:"/questions",className:"btn btn-primary rounded-pill",children:"Browse Questions"})]})})]}):null}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ff4b89b7._.js.map