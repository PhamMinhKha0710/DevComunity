{"version":3,"sources":["../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../frontend/src/app/questions/%5Bid%5D/delete/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport type { Question } from '@/types';\r\nimport apiClient from '@/api/client';\r\n\r\nexport default function DeleteQuestionPage() {\r\n    const params = useParams();\r\n    const router = useRouter();\r\n    const { user } = useAuth();\r\n    const questionId = params.id as string;\r\n\r\n    const [question, setQuestion] = useState<Question | null>(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [confirmText, setConfirmText] = useState('');\r\n\r\n    useEffect(() => {\r\n        fetchQuestion();\r\n    }, [questionId]);\r\n\r\n    const fetchQuestion = async () => {\r\n        try {\r\n            const response = await apiClient.get<Question>(`/questions/${questionId}`);\r\n            setQuestion(response.data);\r\n        } catch (err) {\r\n            setError('Failed to load question');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        if (confirmText !== 'DELETE') {\r\n            setError('Please type DELETE to confirm');\r\n            return;\r\n        }\r\n\r\n        setIsDeleting(true);\r\n        setError('');\r\n\r\n        try {\r\n            await apiClient.delete(`/questions/${questionId}`);\r\n            router.push('/questions?deleted=true');\r\n        } catch (err: any) {\r\n            setError(err.response?.data?.message || 'Failed to delete question');\r\n        } finally {\r\n            setIsDeleting(false);\r\n        }\r\n    };\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"container py-5 text-center\">\r\n                <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!question) {\r\n        return (\r\n            <div className=\"container py-5 text-center\">\r\n                <i className=\"bi bi-exclamation-triangle fs-1 text-warning mb-3\"></i>\r\n                <h3>Question not found</h3>\r\n                <Link href=\"/questions\" className=\"btn btn-primary mt-3\">Back to Questions</Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"container py-4\">\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-lg-8\">\r\n                    {/* Breadcrumb */}\r\n                    <nav aria-label=\"breadcrumb\" className=\"mb-4\">\r\n                        <ol className=\"breadcrumb\">\r\n                            <li className=\"breadcrumb-item\"><Link href=\"/\">Home</Link></li>\r\n                            <li className=\"breadcrumb-item\"><Link href=\"/questions\">Questions</Link></li>\r\n                            <li className=\"breadcrumb-item\"><Link href={`/questions/${questionId}`}>{question.title.substring(0, 30)}...</Link></li>\r\n                            <li className=\"breadcrumb-item active\">Delete</li>\r\n                        </ol>\r\n                    </nav>\r\n\r\n                    <div className=\"card border-danger rounded-4 shadow-sm\">\r\n                        <div className=\"card-header bg-danger text-white py-3 rounded-top-4\">\r\n                            <h1 className=\"card-title fs-4 fw-bold mb-0\">\r\n                                <i className=\"bi bi-exclamation-triangle-fill me-2\"></i>Delete Question\r\n                            </h1>\r\n                        </div>\r\n                        <div className=\"card-body p-4\">\r\n                            <div className=\"alert alert-danger d-flex align-items-start mb-4\">\r\n                                <i className=\"bi bi-exclamation-triangle-fill fs-4 me-3\"></i>\r\n                                <div>\r\n                                    <h5 className=\"alert-heading\">Warning: This action cannot be undone!</h5>\r\n                                    <p className=\"mb-0\">Once you delete this question, all associated answers, comments, and votes will be permanently removed.</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Question Preview */}\r\n                            <div className=\"card bg-light border-0 rounded-3 mb-4\">\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"fw-bold mb-3\">{question.title}</h5>\r\n                                    <p className=\"text-muted mb-3\" style={{ maxHeight: '100px', overflow: 'hidden' }}>\r\n                                        {question.bodyExcerpt || question.body.substring(0, 200)}...\r\n                                    </p>\r\n                                    <div className=\"d-flex gap-3 text-muted small\">\r\n                                        <span><i className=\"bi bi-eye me-1\"></i>{question.viewCount} views</span>\r\n                                        <span><i className=\"bi bi-hand-thumbs-up me-1\"></i>{question.score} votes</span>\r\n                                        <span><i className=\"bi bi-chat-left-text me-1\"></i>{question.answerCount} answers</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {error && (\r\n                                <div className=\"alert alert-danger\" role=\"alert\">\r\n                                    <i className=\"bi bi-exclamation-circle me-2\"></i>{error}\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Confirmation Input */}\r\n                            <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold\">\r\n                                    To confirm, type <code>DELETE</code> in the box below:\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    value={confirmText}\r\n                                    onChange={(e) => setConfirmText(e.target.value.toUpperCase())}\r\n                                    placeholder=\"Type DELETE to confirm\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Actions */}\r\n                            <div className=\"d-flex justify-content-between\">\r\n                                <Link href={`/questions/${questionId}`} className=\"btn btn-outline-secondary rounded-pill\">\r\n                                    <i className=\"bi bi-arrow-left me-1\"></i>Cancel\r\n                                </Link>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-danger rounded-pill px-4\"\r\n                                    onClick={handleDelete}\r\n                                    disabled={isDeleting || confirmText !== 'DELETE'}\r\n                                >\r\n                                    {isDeleting ? (\r\n                                        <>\r\n                                            <span className=\"spinner-border spinner-border-sm me-2\"></span>\r\n                                            Deleting...\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <i className=\"bi bi-trash me-1\"></i>Delete Question\r\n                                        </>\r\n                                    )}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}