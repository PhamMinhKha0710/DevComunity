module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},39884,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(59843),f=a.i(40947),g=a.i(45523);function h(){let{user:a,isLoading:h}=(0,f.useAuth)(),i=(0,d.useRouter)(),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)({name:"",description:"",isPrivate:!1});if(h)return(0,b.jsx)("div",{className:"container py-5 text-center",children:(0,b.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,b.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});if(!a)return i.push("/login"),null;let p=async a=>{a.preventDefault(),k(!0),m("");try{let a=await g.default.post("/repositories",n);i.push(`/repositories/${a.data.repositoryId}`)}catch(a){m(a.response?.data?.message||"Failed to create repository")}finally{k(!1)}};return(0,b.jsx)("div",{className:"container py-4",children:(0,b.jsx)("div",{className:"row justify-content-center",children:(0,b.jsxs)("div",{className:"col-lg-8",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("nav",{"aria-label":"breadcrumb",children:(0,b.jsxs)("ol",{className:"breadcrumb",children:[(0,b.jsx)("li",{className:"breadcrumb-item",children:(0,b.jsx)(e.default,{href:"/repositories",children:"Repositories"})}),(0,b.jsx)("li",{className:"breadcrumb-item active",children:"Create New"})]})}),(0,b.jsxs)("h1",{className:"fw-bold",children:[(0,b.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Create a new repository"]}),(0,b.jsx)("p",{className:"text-muted",children:"A repository contains all project files, including the revision history."})]}),(0,b.jsx)("div",{className:"card border-0 shadow-sm rounded-4",children:(0,b.jsxs)("div",{className:"card-body p-4",children:[l&&(0,b.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,b.jsx)("i",{className:"bi bi-exclamation-circle me-2"}),l]}),(0,b.jsxs)("form",{onSubmit:p,children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"form-label fw-semibold",children:"Owner / Repository name *"}),(0,b.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,b.jsxs)("div",{className:"d-flex align-items-center bg-light rounded-pill px-3 py-2",children:[(0,b.jsx)("img",{src:a.profilePicture||"/images/default-avatar.png",className:"rounded-circle me-2",width:"24",height:"24",alt:""}),(0,b.jsx)("span",{children:a.username})]}),(0,b.jsx)("span",{className:"text-muted",children:"/"}),(0,b.jsx)("input",{type:"text",className:"form-control",placeholder:"repository-name",value:n.name,onChange:a=>o({...n,name:a.target.value.toLowerCase().replace(/\s+/g,"-")}),required:!0,pattern:"[a-z0-9-]+"})]}),(0,b.jsx)("small",{className:"text-muted",children:"Great repository names are short and memorable."})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"form-label fw-semibold",children:"Description (optional)"}),(0,b.jsx)("textarea",{className:"form-control",rows:3,placeholder:"A short description of what this repository is about...",value:n.description,onChange:a=>o({...n,description:a.target.value})})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"form-label fw-semibold",children:"Visibility"}),(0,b.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,b.jsxs)("div",{className:"form-check p-3 border rounded-3",children:[(0,b.jsx)("input",{className:"form-check-input",type:"radio",name:"visibility",id:"public",checked:!n.isPrivate,onChange:()=>o({...n,isPrivate:!1})}),(0,b.jsx)("label",{className:"form-check-label w-100",htmlFor:"public",children:(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("i",{className:"bi bi-unlock fs-4 me-3 text-success"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Public"}),(0,b.jsx)("p",{className:"text-muted mb-0 small",children:"Anyone on the internet can see this repository."})]})]})})]}),(0,b.jsxs)("div",{className:"form-check p-3 border rounded-3",children:[(0,b.jsx)("input",{className:"form-check-input",type:"radio",name:"visibility",id:"private",checked:n.isPrivate,onChange:()=>o({...n,isPrivate:!0})}),(0,b.jsx)("label",{className:"form-check-label w-100",htmlFor:"private",children:(0,b.jsxs)("div",{className:"d-flex align-items-center",children:[(0,b.jsx)("i",{className:"bi bi-lock fs-4 me-3 text-warning"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Private"}),(0,b.jsx)("p",{className:"text-muted mb-0 small",children:"You choose who can see and commit to this repository."})]})]})})]})]})]}),(0,b.jsx)("hr",{className:"my-4"}),(0,b.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,b.jsx)(e.default,{href:"/repositories",className:"btn btn-outline-secondary rounded-pill",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary rounded-pill px-4",disabled:j||!n.name,children:j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Creating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Create repository"]})})]})]})]})})]})})})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__94c48174._.js.map