{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/DevComunity/frontend/src/app/questions/ask/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport apiClient from '@/api/client';\r\n\r\nexport default function AskQuestionPage() {\r\n    const { user, isLoading: authLoading } = useAuth();\r\n    const router = useRouter();\r\n    const [title, setTitle] = useState('');\r\n    const [body, setBody] = useState('');\r\n    const [tags, setTags] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const tagList = tags.split(',').map(t => t.trim()).filter(t => t);\r\n            const response = await apiClient.post('/questions', {\r\n                title,\r\n                body,\r\n                tags: tagList,\r\n            });\r\n            router.push(`/questions/${response.data.questionId}`);\r\n        } catch (err: unknown) {\r\n            const error = err as { response?: { data?: { message?: string } } };\r\n            setError(error.response?.data?.message || 'Failed to create question');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    if (authLoading) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!user) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n                <div className=\"text-center\">\r\n                    <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Please log in to ask a question</h2>\r\n                    <Link href=\"/login\" className=\"bg-orange-500 text-white px-6 py-3 rounded-md hover:bg-orange-600 transition\">\r\n                        Log in\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <header className=\"bg-white shadow-sm border-b\">\r\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\r\n                    <Link href=\"/\" className=\"text-2xl font-bold text-orange-500\">\r\n                        DevComunity\r\n                    </Link>\r\n                </div>\r\n            </header>\r\n\r\n            <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n                <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">Ask a public question</h1>\r\n\r\n                {error && (\r\n                    <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6\">\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                    <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                        <label htmlFor=\"title\" className=\"block text-lg font-semibold text-gray-900 mb-2\">\r\n                            Title\r\n                        </label>\r\n                        <p className=\"text-sm text-gray-500 mb-2\">\r\n                            Be specific and imagine you&apos;re asking a question to another person.\r\n                        </p>\r\n                        <input\r\n                            id=\"title\"\r\n                            type=\"text\"\r\n                            value={title}\r\n                            onChange={(e) => setTitle(e.target.value)}\r\n                            placeholder=\"e.g. How to center a div in CSS?\"\r\n                            required\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                        <label htmlFor=\"body\" className=\"block text-lg font-semibold text-gray-900 mb-2\">\r\n                            What are the details of your problem?\r\n                        </label>\r\n                        <p className=\"text-sm text-gray-500 mb-2\">\r\n                            Introduce the problem and expand on what you put in the title.\r\n                        </p>\r\n                        <textarea\r\n                            id=\"body\"\r\n                            value={body}\r\n                            onChange={(e) => setBody(e.target.value)}\r\n                            rows={10}\r\n                            required\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\r\n                            placeholder=\"Describe your problem in detail...\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"bg-white p-6 rounded-lg shadow\">\r\n                        <label htmlFor=\"tags\" className=\"block text-lg font-semibold text-gray-900 mb-2\">\r\n                            Tags\r\n                        </label>\r\n                        <p className=\"text-sm text-gray-500 mb-2\">\r\n                            Add up to 5 tags to describe what your question is about (comma-separated).\r\n                        </p>\r\n                        <input\r\n                            id=\"tags\"\r\n                            type=\"text\"\r\n                            value={tags}\r\n                            onChange={(e) => setTags(e.target.value)}\r\n                            placeholder=\"e.g. javascript, react, css\"\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500\"\r\n                        />\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition\"\r\n                    >\r\n                        {isLoading ? 'Posting...' : 'Post your question'}\r\n                    </button>\r\n                </form>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}