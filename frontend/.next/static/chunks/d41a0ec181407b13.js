(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96086,(e,s,i)=>{s.exports=e.r(9187)},64167,e=>{"use strict";var s=e.i(48277),i=e.i(30668),a=e.i(96086),l=e.i(16506),t=e.i(23959),c=e.i(96800);function r(){let e=(0,a.useParams)(),r=(0,a.useRouter)(),{user:n}=(0,t.useAuth)(),d=e.id,[m,o]=(0,i.useState)(!0),[b,h]=(0,i.useState)(!1),[x,u]=(0,i.useState)(""),[j,N]=(0,i.useState)({title:"",body:"",tags:""});(0,i.useEffect)(()=>{p()},[d]);let p=async()=>{try{let e=(await c.default.get(`/questions/${d}`)).data;N({title:e.title,body:e.body,tags:e.tags?.map(e=>e.tagName).join(", ")||""})}catch(e){u("Failed to load question")}finally{o(!1)}},g=async e=>{e.preventDefault(),h(!0),u("");try{await c.default.put(`/questions/${d}`,{title:j.title,body:j.body,tags:j.tags.split(",").map(e=>e.trim()).filter(Boolean)}),r.push(`/questions/${d}`)}catch(e){u(e.response?.data?.message||"Failed to update question")}finally{h(!1)}},f=e=>{let s=document.querySelector('textarea[name="body"]');if(!s)return;let i=s.selectionStart,a=s.selectionEnd,l=s.value,t=l.substring(0,i),c=l.substring(i,a),r=l.substring(a),n="";n=c?e.includes("**")?t+`**${c}**`+r:e.includes("*")?t+`*${c}*`+r:e.includes("`")?t+`\`${c}\``+r:t+e+c+r:t+e+r,N({...j,body:n})};return m?(0,s.jsx)("div",{className:"container py-5 text-center",children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,s.jsxs)("div",{className:"container py-4",children:[(0,s.jsx)("nav",{"aria-label":"breadcrumb",className:"mb-4",children:(0,s.jsxs)("ol",{className:"breadcrumb",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(l.default,{href:"/",children:"Home"})}),(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(l.default,{href:"/questions",children:"Questions"})}),(0,s.jsx)("li",{className:"breadcrumb-item active",children:"Edit Question"})]})}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-lg-8",children:(0,s.jsxs)("div",{className:"card border-0 shadow-sm rounded-4 mb-4",children:[(0,s.jsx)("div",{className:"card-header bg-primary text-white py-3 rounded-top-4",children:(0,s.jsxs)("h1",{className:"card-title fs-4 fw-bold mb-0",children:[(0,s.jsx)("i",{className:"bi bi-pencil-square me-2"}),"Edit Your Question"]})}),(0,s.jsxs)("div",{className:"card-body p-4",children:[x&&(0,s.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,s.jsx)("i",{className:"bi bi-exclamation-circle me-2"}),x]}),(0,s.jsxs)("form",{onSubmit:g,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"form-label fw-medium",children:[(0,s.jsx)("i",{className:"bi bi-type-h1 me-1 text-primary"}),"Title"]}),(0,s.jsx)("input",{type:"text",className:"form-control form-control-lg rounded-3",placeholder:"What's your question? Be specific.",value:j.title,onChange:e=>N({...j,title:e.target.value}),required:!0}),(0,s.jsxs)("div",{className:"form-text mt-2",children:[(0,s.jsx)("i",{className:"bi bi-info-circle text-primary me-1"}),"Be specific and imagine you're asking a question to another person."]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"form-label fw-medium",children:[(0,s.jsx)("i",{className:"bi bi-textarea-t me-1 text-primary"}),"Body"]}),(0,s.jsxs)("div",{className:"border rounded-3 overflow-hidden shadow-sm",children:[(0,s.jsxs)("div",{className:"bg-light p-2 border-bottom d-flex align-items-center gap-1",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:()=>f("**bold**"),children:(0,s.jsx)("i",{className:"bi bi-type-bold"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:()=>f("*italic*"),children:(0,s.jsx)("i",{className:"bi bi-type-italic"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:()=>f("# "),children:(0,s.jsx)("i",{className:"bi bi-type-h1"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:()=>f("## "),children:(0,s.jsx)("i",{className:"bi bi-type-h2"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:()=>f("`code`"),children:(0,s.jsx)("i",{className:"bi bi-code"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:()=>f("[Link](url)"),children:(0,s.jsx)("i",{className:"bi bi-link"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:()=>f("- "),children:(0,s.jsx)("i",{className:"bi bi-list-ul"})}),(0,s.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:()=>f("1. "),children:(0,s.jsx)("i",{className:"bi bi-list-ol"})})]}),(0,s.jsx)("textarea",{name:"body",className:"form-control border-0",rows:12,placeholder:"Include all the information someone would need to answer your question",value:j.body,onChange:e=>N({...j,body:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"form-text mt-2",children:[(0,s.jsx)("i",{className:"bi bi-markdown text-primary me-1"}),"Supports Markdown formatting."]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"form-label fw-medium",children:[(0,s.jsx)("i",{className:"bi bi-tags-fill me-1 text-primary"}),"Tags"]}),(0,s.jsxs)("div",{className:"input-group shadow-sm rounded-3 overflow-hidden",children:[(0,s.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,s.jsx)("i",{className:"bi bi-tags"})}),(0,s.jsx)("input",{type:"text",className:"form-control border-start-0",placeholder:"e.g. javascript, react, node.js (comma separated)",value:j.tags,onChange:e=>N({...j,tags:e.target.value})})]}),(0,s.jsxs)("div",{className:"form-text mt-2",children:[(0,s.jsx)("i",{className:"bi bi-info-circle text-primary me-1"}),"Add up to 5 tags to describe what your question is about."]})]}),(0,s.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[(0,s.jsxs)(l.default,{href:`/questions/${d}`,className:"btn btn-outline-secondary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-x-lg me-1"}),"Cancel"]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-success btn-lg rounded-pill",disabled:b,children:b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("i",{className:"bi bi-check-lg me-1"}),"Save Changes"]})})]})]})]})]})}),(0,s.jsxs)("div",{className:"col-lg-4",children:[(0,s.jsxs)("div",{className:"card border-0 shadow-sm rounded-4 mb-4",children:[(0,s.jsx)("div",{className:"card-header bg-info text-white py-3 rounded-top-4",children:(0,s.jsxs)("h5",{className:"mb-0 fw-bold",children:[(0,s.jsx)("i",{className:"bi bi-lightbulb-fill me-2"}),"Editing Tips"]})}),(0,s.jsxs)("div",{className:"card-body p-4",children:[(0,s.jsx)("div",{className:"mb-3 p-3 bg-light rounded-3",children:(0,s.jsxs)("div",{className:"d-flex",children:[(0,s.jsx)("div",{className:"rounded-circle bg-primary text-white p-2 me-3 d-flex align-items-center justify-content-center",style:{width:36,height:36},children:(0,s.jsx)("i",{className:"bi bi-brightness-high"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h6",{className:"fw-bold mb-1",children:"Improve clarity"}),(0,s.jsx)("p",{className:"text-muted small mb-0",children:"Make your question clearer and more focused."})]})]})}),(0,s.jsx)("div",{className:"mb-3 p-3 bg-light rounded-3",children:(0,s.jsxs)("div",{className:"d-flex",children:[(0,s.jsx)("div",{className:"rounded-circle bg-primary text-white p-2 me-3 d-flex align-items-center justify-content-center",style:{width:36,height:36},children:(0,s.jsx)("i",{className:"bi bi-list-check"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h6",{className:"fw-bold mb-1",children:"Add relevant details"}),(0,s.jsx)("p",{className:"text-muted small mb-0",children:"Include any additional context that could help."})]})]})}),(0,s.jsx)("div",{className:"p-3 bg-light rounded-3",children:(0,s.jsxs)("div",{className:"d-flex",children:[(0,s.jsx)("div",{className:"rounded-circle bg-primary text-white p-2 me-3 d-flex align-items-center justify-content-center",style:{width:36,height:36},children:(0,s.jsx)("i",{className:"bi bi-text-paragraph"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h6",{className:"fw-bold mb-1",children:"Use proper formatting"}),(0,s.jsx)("p",{className:"text-muted small mb-0",children:"Format code, use headings for readability."})]})]})})]})]}),(0,s.jsxs)("div",{className:"card border-0 shadow-sm rounded-4",children:[(0,s.jsx)("div",{className:"card-header bg-success text-white py-3 rounded-top-4",children:(0,s.jsxs)("h5",{className:"mb-0 fw-bold",children:[(0,s.jsx)("i",{className:"bi bi-check2-circle me-2"}),"Editing Etiquette"]})}),(0,s.jsxs)("div",{className:"card-body p-4",children:[(0,s.jsxs)("div",{className:"alert alert-light border rounded-3 mb-3",children:[(0,s.jsx)("i",{className:"bi bi-info-circle-fill text-primary me-2"}),(0,s.jsx)("span",{className:"small",children:"Editing after receiving answers should clarify, not change meaning."})]}),(0,s.jsxs)("ul",{className:"list-unstyled mb-0",children:[(0,s.jsxs)("li",{className:"mb-2 d-flex",children:[(0,s.jsx)("i",{className:"bi bi-check-circle-fill text-success me-2"}),(0,s.jsx)("span",{className:"small",children:"Clarify ambiguous points"})]}),(0,s.jsxs)("li",{className:"mb-2 d-flex",children:[(0,s.jsx)("i",{className:"bi bi-check-circle-fill text-success me-2"}),(0,s.jsx)("span",{className:"small",children:"Fix typos and grammar"})]}),(0,s.jsxs)("li",{className:"mb-2 d-flex",children:[(0,s.jsx)("i",{className:"bi bi-x-circle-fill text-danger me-2"}),(0,s.jsx)("span",{className:"small",children:"Completely change the meaning"})]}),(0,s.jsxs)("li",{className:"d-flex",children:[(0,s.jsx)("i",{className:"bi bi-x-circle-fill text-danger me-2"}),(0,s.jsx)("span",{className:"small",children:"Invalidate existing answers"})]})]})]})]})]})]})]})}e.s(["default",()=>r])}]);