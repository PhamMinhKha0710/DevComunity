(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96086,(e,s,a)=>{s.exports=e.r(9187)},31091,e=>{"use strict";var s=e.i(48277),a=e.i(12379),r=e.i(30668),l=e.i(16506),i=e.i(96086),t=e.i(96800);function n(){let e=(0,i.useSearchParams)(),a=(0,i.useRouter)(),n=e.get("token")||"",c=e.get("email")||"",[d,o]=(0,r.useState)(""),[m,u]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[x,b]=(0,r.useState)(""),j=async e=>{if(e.preventDefault(),d!==m)return void b("Passwords do not match");p(!0),b("");try{await t.default.post("/auth/reset-password",{email:c,token:n,newPassword:d}),a.push("/login?message=Password reset successful")}catch(e){b(e.response?.data?.message||"Failed to reset password")}finally{p(!1)}};return n?(0,s.jsxs)("form",{onSubmit:j,children:[x&&(0,s.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,s.jsx)("i",{className:"bi bi-exclamation-circle me-2"}),x]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"form-label fw-semibold",children:"New Password"}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,s.jsx)("i",{className:"bi bi-lock"})}),(0,s.jsx)("input",{type:"password",className:"form-control border-start-0",placeholder:"Enter new password",value:d,onChange:e=>o(e.target.value),minLength:6,required:!0})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"form-label fw-semibold",children:"Confirm Password"}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("span",{className:"input-group-text bg-light border-end-0",children:(0,s.jsx)("i",{className:"bi bi-lock-fill"})}),(0,s.jsx)("input",{type:"password",className:"form-control border-start-0",placeholder:"Confirm new password",value:m,onChange:e=>u(e.target.value),required:!0})]})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary w-100 rounded-pill py-2",disabled:h,children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Resetting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("i",{className:"bi bi-check-circle me-2"}),"Reset Password"]})})]}):(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,s.jsx)("i",{className:"bi bi-exclamation-circle me-2"}),"Invalid or expired reset link."]}),(0,s.jsx)(l.default,{href:"/forgot-password",className:"btn btn-primary rounded-pill px-4",children:"Request New Reset Link"})]})}function c(){let e,l,i=(0,a.c)(2);return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsxs)("div",{className:"text-center mb-4",children:[(0,s.jsx)("i",{className:"bi bi-shield-lock fs-1 text-primary mb-3"}),(0,s.jsx)("h3",{className:"fw-bold",children:"Reset Password"}),(0,s.jsx)("p",{className:"text-muted",children:"Enter your new password below."})]}),i[0]=e):e=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)("div",{className:"container py-5",children:(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsx)("div",{className:"col-md-6 col-lg-5",children:(0,s.jsx)("div",{className:"card border-0 shadow-sm rounded-4",children:(0,s.jsxs)("div",{className:"card-body p-5",children:[e,(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),children:(0,s.jsx)(n,{})})]})})})})}),i[1]=l):l=i[1],l}e.s(["default",()=>c])}]);