(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96086,(e,s,a)=>{s.exports=e.r(9187)},80063,e=>{"use strict";var s=e.i(48277),a=e.i(30668),l=e.i(96086),i=e.i(16506),t=e.i(23959),n=e.i(96800);function r(){let e=(0,l.useParams)(),r=(0,l.useRouter)(),{user:c}=(0,t.useAuth)(),d=e.id,[o,m]=(0,a.useState)(null),[u,b]=(0,a.useState)(!0),[h,x]=(0,a.useState)(!1),[j,N]=(0,a.useState)(""),[f,p]=(0,a.useState)("");(0,a.useEffect)(()=>{v()},[d]);let v=async()=>{try{let e=await n.default.get(`/questions/${d}`);m(e.data)}catch(e){N("Failed to load question")}finally{b(!1)}},g=async()=>{if("DELETE"!==f)return void N("Please type DELETE to confirm");x(!0),N("");try{await n.default.delete(`/questions/${d}`),r.push("/questions?deleted=true")}catch(e){N(e.response?.data?.message||"Failed to delete question")}finally{x(!1)}};return u?(0,s.jsx)("div",{className:"container py-5 text-center",children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):o?(0,s.jsx)("div",{className:"container py-4",children:(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"col-lg-8",children:[(0,s.jsx)("nav",{"aria-label":"breadcrumb",className:"mb-4",children:(0,s.jsxs)("ol",{className:"breadcrumb",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(i.default,{href:"/",children:"Home"})}),(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(i.default,{href:"/questions",children:"Questions"})}),(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsxs)(i.default,{href:`/questions/${d}`,children:[o.title.substring(0,30),"..."]})}),(0,s.jsx)("li",{className:"breadcrumb-item active",children:"Delete"})]})}),(0,s.jsxs)("div",{className:"card border-danger rounded-4 shadow-sm",children:[(0,s.jsx)("div",{className:"card-header bg-danger text-white py-3 rounded-top-4",children:(0,s.jsxs)("h1",{className:"card-title fs-4 fw-bold mb-0",children:[(0,s.jsx)("i",{className:"bi bi-exclamation-triangle-fill me-2"}),"Delete Question"]})}),(0,s.jsxs)("div",{className:"card-body p-4",children:[(0,s.jsxs)("div",{className:"alert alert-danger d-flex align-items-start mb-4",children:[(0,s.jsx)("i",{className:"bi bi-exclamation-triangle-fill fs-4 me-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"alert-heading",children:"Warning: This action cannot be undone!"}),(0,s.jsx)("p",{className:"mb-0",children:"Once you delete this question, all associated answers, comments, and votes will be permanently removed."})]})]}),(0,s.jsx)("div",{className:"card bg-light border-0 rounded-3 mb-4",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("h5",{className:"fw-bold mb-3",children:o.title}),(0,s.jsxs)("p",{className:"text-muted mb-3",style:{maxHeight:"100px",overflow:"hidden"},children:[o.bodyExcerpt||o.body.substring(0,200),"..."]}),(0,s.jsxs)("div",{className:"d-flex gap-3 text-muted small",children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bi bi-eye me-1"}),o.viewCount," views"]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bi bi-hand-thumbs-up me-1"}),o.score," votes"]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bi bi-chat-left-text me-1"}),o.answerCount," answers"]})]})]})}),j&&(0,s.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,s.jsx)("i",{className:"bi bi-exclamation-circle me-2"}),j]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"form-label fw-semibold",children:["To confirm, type ",(0,s.jsx)("code",{children:"DELETE"})," in the box below:"]}),(0,s.jsx)("input",{type:"text",className:"form-control",value:f,onChange:e=>p(e.target.value.toUpperCase()),placeholder:"Type DELETE to confirm"})]}),(0,s.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,s.jsxs)(i.default,{href:`/questions/${d}`,className:"btn btn-outline-secondary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-arrow-left me-1"}),"Cancel"]}),(0,s.jsx)("button",{type:"button",className:"btn btn-danger rounded-pill px-4",onClick:g,disabled:h||"DELETE"!==f,children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Deleting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("i",{className:"bi bi-trash me-1"}),"Delete Question"]})})]})]})]})]})})}):(0,s.jsxs)("div",{className:"container py-5 text-center",children:[(0,s.jsx)("i",{className:"bi bi-exclamation-triangle fs-1 text-warning mb-3"}),(0,s.jsx)("h3",{children:"Question not found"}),(0,s.jsx)(i.default,{href:"/questions",className:"btn btn-primary mt-3",children:"Back to Questions"})]})}e.s(["default",()=>r])}]);