(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96086,(e,s,t)=>{s.exports=e.r(9187)},91890,e=>{"use strict";var s=e.i(48277),t=e.i(30668),a=e.i(16506),i=e.i(96086),n=e.i(23959),l=e.i(96800);let r=e=>e?e.replace(/<[^>]*>/g,"").substring(0,150):"";function d(){let{user:e,isLoading:d}=(0,n.useAuth)(),c=(0,i.useRouter)(),[o,m]=(0,t.useState)([]),[u,b]=(0,t.useState)(!0),[x,h]=(0,t.useState)("all");(0,t.useEffect)(()=>{d||e?e&&p():c.push("/login")},[e,d,c]);let p=async()=>{try{let e=await l.default.get("/saved");m(e.data.items||[])}catch(e){console.error("Failed to fetch saved items:",e)}finally{b(!1)}},j=async e=>{try{await l.default.delete(`/saved/${e}`),m(s=>s.filter(s=>s.savedItemId!==e))}catch(e){console.error("Failed to remove saved item:",e)}},N=o.filter(e=>"all"===x||("questions"===x?"Question"===e.targetType:"answers"!==x||"Answer"===e.targetType));return d||u?(0,s.jsx)("div",{className:"container py-5 text-center",children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):e?(0,s.jsxs)("div",{className:"container py-4",children:[(0,s.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"fw-bold mb-1",children:[(0,s.jsx)("i",{className:"bi bi-bookmark me-2"}),"Saved Items"]}),(0,s.jsxs)("p",{className:"text-muted mb-0",children:[o.length," items saved"]})]})}),(0,s.jsx)("div",{className:"card border-0 shadow-sm rounded-4 mb-4",children:(0,s.jsx)("div",{className:"card-body p-3",children:(0,s.jsxs)("div",{className:"d-flex gap-2",children:[(0,s.jsxs)("button",{className:`btn btn-sm rounded-pill ${"all"===x?"btn-primary":"btn-outline-secondary"}`,onClick:()=>h("all"),children:["All (",o.length,")"]}),(0,s.jsxs)("button",{className:`btn btn-sm rounded-pill ${"questions"===x?"btn-primary":"btn-outline-secondary"}`,onClick:()=>h("questions"),children:[(0,s.jsx)("i",{className:"bi bi-question-circle me-1"}),"Questions (",o.filter(e=>"Question"===e.targetType).length,")"]}),(0,s.jsxs)("button",{className:`btn btn-sm rounded-pill ${"answers"===x?"btn-primary":"btn-outline-secondary"}`,onClick:()=>h("answers"),children:[(0,s.jsx)("i",{className:"bi bi-chat-left-text me-1"}),"Answers (",o.filter(e=>"Answer"===e.targetType).length,")"]})]})})}),(0,s.jsx)("div",{className:"card border-0 shadow-sm rounded-4",children:N.length>0?(0,s.jsx)("div",{className:"list-group list-group-flush",children:N.map(e=>(0,s.jsx)("div",{className:"list-group-item p-4 border-0 border-bottom",children:(0,s.jsxs)("div",{className:"row align-items-center",children:[(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsx)("div",{className:`rounded-3 p-2 ${"Question"===e.targetType?"bg-primary-subtle":"bg-success-subtle"}`,children:(0,s.jsx)("i",{className:`bi ${"Question"===e.targetType?"bi-question-circle text-primary":"bi-chat-left-text text-success"} fs-5`})})}),(0,s.jsxs)("div",{className:"col",children:[(0,s.jsx)("span",{className:"badge bg-light text-dark mb-2",children:e.targetType}),(0,s.jsx)("h6",{className:"mb-1 fw-bold",children:"Question"===e.targetType&&e.question?(0,s.jsx)(a.default,{href:`/questions/${e.question.questionId}`,className:"text-decoration-none text-dark",children:e.question.title}):"Answer"===e.targetType&&e.answer?(0,s.jsx)(a.default,{href:`/questions/${e.answer.questionId}#answer-${e.answer.answerId}`,className:"text-decoration-none text-dark",children:"Answer to question"}):(0,s.jsx)("span",{children:"Saved item"})}),(0,s.jsx)("p",{className:"text-muted small mb-0",children:"Question"===e.targetType&&e.question?r(e.question.body)+"...":"Answer"===e.targetType&&e.answer?r(e.answer.body)+"...":""}),(0,s.jsxs)("small",{className:"text-muted",children:["Saved on ",new Date(e.createdDate).toLocaleDateString()]})]}),(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsxs)("button",{className:"btn btn-sm btn-outline-danger rounded-pill",onClick:()=>j(e.savedItemId),children:[(0,s.jsx)("i",{className:"bi bi-bookmark-x me-1"}),"Remove"]})})]})},e.savedItemId))}):(0,s.jsxs)("div",{className:"card-body text-center py-5",children:[(0,s.jsx)("i",{className:"bi bi-bookmark fs-1 text-muted mb-3"}),(0,s.jsx)("h5",{children:"No saved items"}),(0,s.jsx)("p",{className:"text-muted mb-4",children:"Save questions and answers to read later"}),(0,s.jsx)(a.default,{href:"/questions",className:"btn btn-primary rounded-pill",children:"Browse Questions"})]})})]}):null}e.s(["default",()=>d])}]);