(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96086,(e,s,a)=>{s.exports=e.r(9187)},94978,e=>{"use strict";var s=e.i(48277),a=e.i(30668),i=e.i(16506),l=e.i(96086),r=e.i(96800);function t(){let e=(0,l.useParams)().id,[t,n]=(0,a.useState)(null),[d,c]=(0,a.useState)([]),[m,o]=(0,a.useState)(""),[x,b]=(0,a.useState)(!0),[h,u]=(0,a.useState)("code");(0,a.useEffect)(()=>{j()},[e]);let j=async()=>{try{let[s,a]=await Promise.all([r.default.get(`/repositories/${e}`),r.default.get(`/repositories/${e}/files`)]);n(s.data),c(a.data.files||[]);try{let s=await r.default.get(`/repositories/${e}/files/content?path=README.md`);o(s.data.content||"")}catch{o("")}}catch(e){console.error("Failed to fetch repository:",e)}finally{b(!1)}};return x?(0,s.jsx)("div",{className:"container py-5 text-center",children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):t?(0,s.jsxs)("div",{className:"container py-4",children:[(0,s.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,s.jsxs)(i.default,{href:`/users/${t.ownerId}`,className:"text-decoration-none text-muted",children:[(0,s.jsx)("img",{src:t.ownerProfilePicture||"/images/default-avatar.png",className:"rounded-circle me-2",width:"24",height:"24",alt:""}),t.ownerUsername]}),(0,s.jsx)("span",{className:"text-muted mx-2",children:"/"}),(0,s.jsx)("h4",{className:"mb-0 fw-bold",children:t.repositoryName}),(0,s.jsx)("span",{className:`badge ms-2 rounded-pill ${"Private"===t.visibility?"bg-danger":"bg-success"}`,children:t.visibility})]}),t.description&&(0,s.jsx)("p",{className:"text-muted mb-0",children:t.description})]}),(0,s.jsxs)("div",{className:"d-flex gap-2",children:[(0,s.jsxs)("button",{className:"btn btn-sm btn-outline-secondary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-eye me-1"}),"Watch"]}),(0,s.jsxs)("button",{className:"btn btn-sm btn-outline-secondary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-star me-1"}),"Star ",(0,s.jsx)("span",{className:"badge bg-secondary ms-1",children:t.starsCount})]}),(0,s.jsxs)("button",{className:"btn btn-sm btn-outline-secondary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-diagram-2 me-1"}),"Fork ",(0,s.jsx)("span",{className:"badge bg-secondary ms-1",children:t.forksCount})]})]})]}),(0,s.jsxs)("ul",{className:"nav nav-tabs mb-4",children:[(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsxs)(i.default,{href:`/repositories/${e}`,className:"nav-link active",children:[(0,s.jsx)("i",{className:"bi bi-code-square me-1"}),"Code"]})}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsxs)(i.default,{href:`/repositories/${e}/commits`,className:"nav-link",children:[(0,s.jsx)("i",{className:"bi bi-clock-history me-1"}),"Commits"]})}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsxs)(i.default,{href:`/repositories/${e}/branches`,className:"nav-link",children:[(0,s.jsx)("i",{className:"bi bi-diagram-3 me-1"}),"Branches"]})})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"col-lg-9",children:[(0,s.jsx)("div",{className:"card border-0 shadow-sm rounded-4 mb-4",children:(0,s.jsxs)("div",{className:"card-body d-flex justify-content-between align-items-center p-3",children:[(0,s.jsxs)("div",{className:"d-flex gap-2",children:[(0,s.jsxs)("div",{className:"dropdown",children:[(0,s.jsxs)("button",{className:"btn btn-sm btn-outline-secondary rounded-pill","data-bs-toggle":"dropdown",children:[(0,s.jsx)("i",{className:"bi bi-git me-1"}),t.defaultBranch||"main"," ",(0,s.jsx)("i",{className:"bi bi-chevron-down ms-1"})]}),(0,s.jsxs)("ul",{className:"dropdown-menu",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{className:"dropdown-item",href:"#",children:"main"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{className:"dropdown-item",href:"#",children:"develop"})})]})]}),(0,s.jsxs)(i.default,{href:`/repositories/${e}/branches`,className:"btn btn-sm btn-outline-secondary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-diagram-3 me-1"}),"Branches"]})]}),(0,s.jsx)("div",{className:"d-flex gap-2",children:(0,s.jsxs)("button",{className:"btn btn-sm btn-success rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-download me-1"}),"Clone"]})})]})}),(0,s.jsxs)("div",{className:"card border-0 shadow-sm rounded-4 mb-4",children:[(0,s.jsx)("div",{className:"card-header bg-white d-flex justify-content-between align-items-center",children:(0,s.jsxs)("span",{className:"text-muted small",children:[d.length," items"]})}),(0,s.jsx)("div",{className:"list-group list-group-flush",children:d.sort((e,s)=>"dir"===e.type&&"dir"!==s.type?-1:"dir"!==e.type&&"dir"===s.type?1:e.name.localeCompare(s.name)).map(a=>(0,s.jsxs)(i.default,{href:`/repositories/${e}/files/${a.path}`,className:"list-group-item list-group-item-action d-flex align-items-center py-2",children:[(0,s.jsx)("i",{className:`bi ${(e=>{if("dir"===e.type)return"bi-folder-fill text-warning";switch(e.name.split(".").pop()?.toLowerCase()){case"js":case"jsx":case"ts":case"tsx":return"bi-file-earmark-code text-info";case"json":return"bi-file-earmark-code text-warning";case"md":return"bi-markdown text-primary";case"css":case"scss":return"bi-filetype-css text-purple";case"html":return"bi-filetype-html text-danger";case"png":case"jpg":case"gif":return"bi-file-earmark-image text-success";default:return"bi-file-earmark text-muted"}})(a)} me-3`}),(0,s.jsx)("span",{children:a.name}),a.size&&(0,s.jsxs)("span",{className:"ms-auto text-muted small",children:[(a.size/1024).toFixed(1)," KB"]})]},a.path))})]}),m&&(0,s.jsxs)("div",{className:"card border-0 shadow-sm rounded-4",children:[(0,s.jsxs)("div",{className:"card-header bg-white",children:[(0,s.jsx)("i",{className:"bi bi-book me-2"}),"README.md"]}),(0,s.jsx)("div",{className:"card-body",children:(0,s.jsx)("div",{className:"markdown-body",dangerouslySetInnerHTML:{__html:m}})})]})]}),(0,s.jsxs)("div",{className:"col-lg-3",children:[(0,s.jsx)("div",{className:"card border-0 shadow-sm rounded-4 mb-4",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("h6",{className:"fw-bold mb-3",children:"About"}),(0,s.jsx)("p",{className:"text-muted small",children:t.description||"No description provided"}),t.cloneUrl&&(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("small",{className:"text-muted d-block mb-1",children:"Clone URL"}),(0,s.jsxs)("div",{className:"input-group input-group-sm",children:[(0,s.jsx)("input",{type:"text",className:"form-control",value:t.cloneUrl,readOnly:!0}),(0,s.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>navigator.clipboard.writeText(t.cloneUrl),children:(0,s.jsx)("i",{className:"bi bi-clipboard"})})]})]}),(0,s.jsxs)("div",{className:"d-flex gap-3 text-muted small",children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bi bi-star me-1"}),t.starsCount," stars"]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bi bi-diagram-2 me-1"}),t.forksCount," forks"]})]})]})}),t.language&&(0,s.jsx)("div",{className:"card border-0 shadow-sm rounded-4",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("h6",{className:"fw-bold mb-3",children:"Languages"}),(0,s.jsx)("div",{className:"d-flex align-items-center",children:(0,s.jsx)("span",{className:"badge bg-primary rounded-pill",children:t.language})})]})})]})]})]}):(0,s.jsxs)("div",{className:"container py-5 text-center",children:[(0,s.jsx)("i",{className:"bi bi-exclamation-triangle fs-1 text-warning mb-3"}),(0,s.jsx)("h3",{children:"Repository not found"}),(0,s.jsx)(i.default,{href:"/repositories",className:"btn btn-primary mt-3",children:"Back to Repositories"})]})}e.s(["default",()=>t])}]);