(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96086,(e,s,i)=>{s.exports=e.r(9187)},73584,e=>{"use strict";var s=e.i(48277),i=e.i(30668),t=e.i(16506),a=e.i(96086),r=e.i(96800);function l(){let e=(0,a.useParams)(),l=e.id,n=e.path||[],c=n.join("/"),[d,o]=(0,i.useState)(""),[m,u]=(0,i.useState)(null),[h,p]=(0,i.useState)([]),[x,b]=(0,i.useState)(!1),[f,j]=(0,i.useState)(!0);(0,i.useEffect)(()=>{N()},[l,c]);let N=async()=>{try{let e=await r.default.get(`/repositories/${l}/files/content?path=${encodeURIComponent(c)}`);e.data.files?(b(!0),p(e.data.files)):(b(!1),o(e.data.content||""))}catch(e){console.error("Failed to fetch content:",e)}finally{j(!1)}};if(f)return(0,s.jsx)("div",{className:"container py-5 text-center",children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});let g=c.split("/").filter(Boolean);return(0,s.jsxs)("div",{className:"container py-4",children:[(0,s.jsx)("nav",{"aria-label":"breadcrumb",className:"mb-4",children:(0,s.jsxs)("ol",{className:"breadcrumb",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(t.default,{href:"/repositories",children:"Repositories"})}),(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(t.default,{href:`/repositories/${l}`,children:"Repository"})}),g.map((e,i)=>{let a=g.slice(0,i+1).join("/");return i===g.length-1?(0,s.jsx)("li",{className:"breadcrumb-item active",children:e},e):(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(t.default,{href:`/repositories/${l}/files/${a}`,children:e})},e)})]})}),x?(0,s.jsxs)("div",{className:"card border-0 shadow-sm rounded-4",children:[(0,s.jsxs)("div",{className:"card-header bg-white",children:[(0,s.jsx)("i",{className:"bi bi-folder-fill text-warning me-2"}),c||"Root"]}),(0,s.jsxs)("div",{className:"list-group list-group-flush",children:[n.length>0&&(0,s.jsxs)(t.default,{href:`/repositories/${l}/files/${g.slice(0,-1).join("/")}`,className:"list-group-item list-group-item-action d-flex align-items-center py-2",children:[(0,s.jsx)("i",{className:"bi bi-arrow-90deg-up me-3 text-muted"}),(0,s.jsx)("span",{children:".."})]}),h.sort((e,s)=>"dir"===e.type&&"dir"!==s.type?-1:"dir"!==e.type&&"dir"===s.type?1:e.name.localeCompare(s.name)).map(e=>(0,s.jsxs)(t.default,{href:`/repositories/${l}/files/${e.path}`,className:"list-group-item list-group-item-action d-flex align-items-center py-2",children:[(0,s.jsx)("i",{className:`bi ${(e=>{if("dir"===e.type)return"bi-folder-fill text-warning";switch(e.name.split(".").pop()?.toLowerCase()){case"js":case"jsx":case"ts":case"tsx":return"bi-file-earmark-code text-info";case"json":return"bi-file-earmark-code text-warning";case"md":return"bi-markdown text-primary";case"css":case"scss":return"bi-filetype-css";case"html":return"bi-filetype-html text-danger";default:return"bi-file-earmark text-muted"}})(e)} me-3`}),(0,s.jsx)("span",{children:e.name})]},e.path))]})]}):(0,s.jsxs)("div",{className:"card border-0 shadow-sm rounded-4",children:[(0,s.jsxs)("div",{className:"card-header bg-white d-flex justify-content-between align-items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("i",{className:"bi bi-file-earmark-code me-2"}),n[n.length-1]||"File"]}),(0,s.jsxs)("div",{className:"d-flex gap-2",children:[(0,s.jsxs)("button",{className:"btn btn-sm btn-outline-secondary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-pencil me-1"}),"Edit"]}),(0,s.jsxs)("button",{className:"btn btn-sm btn-outline-secondary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-download me-1"}),"Download"]})]})]}),(0,s.jsx)("div",{className:"card-body p-0",children:(0,s.jsx)("pre",{className:"m-0 p-4 bg-light",style:{maxHeight:"600px",overflow:"auto"},children:(0,s.jsx)("code",{children:d})})})]})]})}e.s(["default",()=>l])}]);