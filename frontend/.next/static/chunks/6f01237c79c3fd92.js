(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96086,(e,s,i)=>{s.exports=e.r(9187)},80914,e=>{"use strict";var s=e.i(48277),i=e.i(30668),r=e.i(16506),a=e.i(96086),t=e.i(23959),l=e.i(96800);function d(){let{user:e,isLoading:d}=(0,t.useAuth)(),c=(0,a.useRouter)(),[n,o]=(0,i.useState)([]),[m,x]=(0,i.useState)(!0);(0,i.useEffect)(()=>{d||e?e&&h():c.push("/login")},[e,d,c]);let h=async()=>{try{let s=await l.default.get(`/repositories?ownerId=${e?.userId}`);o(s.data.items||[])}catch(e){console.error("Failed to fetch repositories:",e)}finally{x(!1)}};return d||m?(0,s.jsx)("div",{className:"container py-5 text-center",children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):e?(0,s.jsxs)("div",{className:"container py-4",children:[(0,s.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("nav",{"aria-label":"breadcrumb",children:(0,s.jsxs)("ol",{className:"breadcrumb",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(r.default,{href:"/repositories",children:"Repositories"})}),(0,s.jsx)("li",{className:"breadcrumb-item active",children:"My Repositories"})]})}),(0,s.jsxs)("h1",{className:"fw-bold mb-1",children:[(0,s.jsx)("i",{className:"bi bi-person me-2"}),"My Repositories"]}),(0,s.jsx)("p",{className:"text-muted mb-0",children:"Manage your code repositories"})]}),(0,s.jsxs)(r.default,{href:"/repositories/create",className:"btn btn-primary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-plus-circle me-2"}),"New Repository"]})]}),n.length>0?(0,s.jsx)("div",{className:"card border-0 shadow-sm rounded-4",children:(0,s.jsx)("div",{className:"list-group list-group-flush",children:n.map(e=>(0,s.jsx)("div",{className:"list-group-item p-4 border-0 border-bottom",children:(0,s.jsxs)("div",{className:"row align-items-center",children:[(0,s.jsxs)("div",{className:"col",children:[(0,s.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,s.jsx)("i",{className:`bi ${"Private"===e.visibility?"bi-lock text-warning":"bi-unlock text-success"} me-2`}),(0,s.jsx)("h5",{className:"mb-0 fw-bold",children:(0,s.jsx)(r.default,{href:`/repositories/${e.repositoryId}`,className:"text-decoration-none text-dark",children:e.repositoryName})}),(0,s.jsx)("span",{className:`badge ms-2 rounded-pill ${"Private"===e.visibility?"bg-danger":"bg-success"}`,children:e.visibility})]}),(0,s.jsx)("p",{className:"text-muted mb-2",children:e.description||(0,s.jsx)("span",{className:"fst-italic",children:"No description"})}),(0,s.jsxs)("div",{className:"d-flex gap-3 small text-muted",children:[e.language&&(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bi bi-circle-fill me-1",style:{fontSize:"0.5rem"}}),e.language]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bi bi-star me-1"}),e.starsCount||0]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bi bi-diagram-2 me-1"}),e.forksCount||0]}),(0,s.jsxs)("span",{children:["Updated ",new Date(e.updatedDate||e.createdDate).toLocaleDateString()]})]})]}),(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsxs)("div",{className:"dropdown",children:[(0,s.jsx)("button",{className:"btn btn-sm btn-outline-secondary rounded-pill","data-bs-toggle":"dropdown",children:(0,s.jsx)("i",{className:"bi bi-three-dots"})}),(0,s.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end",children:[(0,s.jsx)("li",{children:(0,s.jsxs)(r.default,{href:`/repositories/${e.repositoryId}`,className:"dropdown-item",children:[(0,s.jsx)("i",{className:"bi bi-eye me-2"}),"View"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(r.default,{href:`/repositories/${e.repositoryId}/settings`,className:"dropdown-item",children:[(0,s.jsx)("i",{className:"bi bi-gear me-2"}),"Settings"]})}),(0,s.jsx)("li",{children:(0,s.jsx)("hr",{className:"dropdown-divider"})}),(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:"dropdown-item text-danger",children:[(0,s.jsx)("i",{className:"bi bi-trash me-2"}),"Delete"]})})]})]})})]})},e.repositoryId))})}):(0,s.jsxs)("div",{className:"text-center py-5",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("i",{className:"bi bi-archive fs-1 text-muted"})}),(0,s.jsx)("h5",{children:"You don't have any repositories yet"}),(0,s.jsx)("p",{className:"text-muted mb-4",children:"Create your first repository to start sharing code."}),(0,s.jsxs)(r.default,{href:"/repositories/create",className:"btn btn-primary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Create your first repository"]})]})]}):null}e.s(["default",()=>d])}]);