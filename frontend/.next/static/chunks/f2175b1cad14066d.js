(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96086,(e,s,a)=>{s.exports=e.r(9187)},55733,e=>{"use strict";var s=e.i(48277),a=e.i(12379),r=e.i(30668),i=e.i(16506),t=e.i(96086),l=e.i(96800);function c(){let e=(0,t.useSearchParams)(),[a,c]=(0,r.useState)([]),[d,n]=(0,r.useState)(!0),[o,m]=(0,r.useState)(e.get("search")||"");(0,r.useEffect)(()=>{h()},[o]);let h=async()=>{n(!0);try{let e="/repositories?page=1&pageSize=20";o&&(e+=`&search=${encodeURIComponent(o)}`);let s=await l.default.get(e);c(s.data.items||[])}catch(e){console.error("Failed to fetch repositories:",e)}finally{n(!1)}};return(0,s.jsxs)("div",{className:"container py-4",children:[(0,s.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"fw-bold mb-1",children:[(0,s.jsx)("i",{className:"bi bi-archive me-2"}),"Code Repositories"]}),(0,s.jsx)("p",{className:"text-muted mb-0",children:"Explore and share code with the community"})]}),(0,s.jsxs)("div",{className:"d-flex gap-2",children:[(0,s.jsxs)(i.default,{href:"/repositories/create",className:"btn btn-primary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Create Repository"]}),(0,s.jsxs)(i.default,{href:"/repositories/my",className:"btn btn-outline-primary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-person me-2"}),"My Repositories"]})]})]}),(0,s.jsx)("div",{className:"card border-0 shadow-sm rounded-4 mb-4",children:(0,s.jsx)("div",{className:"card-body p-3",children:(0,s.jsx)("form",{onSubmit:e=>{e.preventDefault(),h()},children:(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("span",{className:"input-group-text bg-transparent border-end-0",children:(0,s.jsx)("i",{className:"bi bi-search"})}),(0,s.jsx)("input",{type:"text",className:"form-control border-start-0",placeholder:"Search repositories by name, description or language...",value:o,onChange:e=>m(e.target.value)}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Search"})]})})})}),d?(0,s.jsx)("div",{className:"text-center py-5",children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):a.length>0?(0,s.jsx)("div",{className:"row row-cols-1 row-cols-md-2 g-4",children:a.map(e=>(0,s.jsx)("div",{className:"col",children:(0,s.jsxs)("div",{className:"card h-100 border-0 shadow-sm rounded-4 hover-lift",children:[(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,s.jsx)("img",{src:e.ownerProfilePicture||"/images/default-avatar.png",className:"rounded-circle me-2",width:"32",height:"32",alt:e.ownerUsername}),(0,s.jsx)(i.default,{href:`/users/${e.ownerId}`,className:"text-decoration-none text-muted",children:e.ownerUsername})]}),(0,s.jsx)("h5",{className:"card-title fw-bold",children:(0,s.jsx)(i.default,{href:`/repositories/${e.repositoryId}`,className:"text-decoration-none text-dark",children:e.repositoryName})}),(0,s.jsx)("p",{className:"card-text text-muted",children:e.description||(0,s.jsx)("span",{className:"fst-italic",children:"No description provided"})}),(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,s.jsxs)("div",{className:"d-flex gap-2",children:[(0,s.jsx)("span",{className:"badge bg-secondary rounded-pill",children:e.defaultBranch||"main"}),(0,s.jsx)("span",{className:`badge rounded-pill ${"Private"===e.visibility?"bg-danger":"bg-success"}`,children:e.visibility}),e.language&&(0,s.jsx)("span",{className:"badge bg-primary rounded-pill",children:e.language})]}),(0,s.jsxs)("div",{className:"d-flex gap-3 text-muted small",children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bi bi-star me-1"}),e.starsCount||0]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bi bi-diagram-2 me-1"}),e.forksCount||0]})]})]})]}),(0,s.jsx)("div",{className:"card-footer bg-transparent border-0",children:(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,s.jsxs)("small",{className:"text-muted",children:[(0,s.jsx)("i",{className:"bi bi-clock me-1"}),"Updated ",new Date(e.updatedDate||e.createdDate).toLocaleDateString()]}),(0,s.jsxs)(i.default,{href:`/repositories/${e.repositoryId}`,className:"btn btn-sm btn-outline-primary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-code-square me-1"}),"View"]})]})})]})},e.repositoryId))}):(0,s.jsxs)("div",{className:"text-center py-5",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("i",{className:"bi bi-archive fs-1 text-muted"})}),(0,s.jsx)("h5",{children:"No repositories found"}),(0,s.jsx)("p",{className:"text-muted mb-4",children:o?"Try a different search term":"Be the first to create a repository!"}),(0,s.jsxs)(i.default,{href:"/repositories/create",className:"btn btn-primary rounded-pill",children:[(0,s.jsx)("i",{className:"bi bi-plus-circle me-2"}),"Create Repository"]})]})]})}function d(){let e,i=(0,a.c)(1);return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{className:"container py-5 text-center",children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),children:(0,s.jsx)(c,{})}),i[0]=e):e=i[0],e}e.s(["default",()=>d])}]);