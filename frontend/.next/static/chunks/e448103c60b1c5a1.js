(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96086,(e,s,t)=>{s.exports=e.r(9187)},66026,e=>{"use strict";var s=e.i(48277),t=e.i(12379),i=e.i(70167),a=e.i(23959),c=e.i(96086),l=e.i(30668);function n(){let e,n,r,d,o,m,u,h,x=(0,t.c)(21),{user:b,isLoading:p}=(0,a.useAuth)(),{notifications:f,unreadCount:j,markAsRead:N,markAllAsRead:g}=(0,i.useNotifications)(),y=(0,c.useRouter)();if(x[0]!==p||x[1]!==y||x[2]!==b?(e=()=>{p||b||y.push("/login")},n=[b,p,y],x[0]=p,x[1]=y,x[2]=b,x[3]=e,x[4]=n):(e=x[3],n=x[4]),(0,l.useEffect)(e,n),p){let e;return x[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:"container py-5 text-center",children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),x[5]=e):e=x[5],e}if(!b)return null;x[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)("h2",{className:"fw-bold mb-1",children:"Notifications"}),x[6]=r):r=x[6];let v=j>0?`${j} unread notifications`:"All caught up!";return x[7]!==v?(d=(0,s.jsxs)("div",{children:[r,(0,s.jsx)("p",{className:"text-muted mb-0",children:v})]}),x[7]=v,x[8]=d):d=x[8],x[9]!==g||x[10]!==j?(o=j>0&&(0,s.jsxs)("button",{className:"btn btn-outline-primary rounded-pill",onClick:g,children:[(0,s.jsx)("i",{className:"bi bi-check-all me-2"}),"Mark all as read"]}),x[9]=g,x[10]=j,x[11]=o):o=x[11],x[12]!==d||x[13]!==o?(m=(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[d,o]}),x[12]=d,x[13]=o,x[14]=m):m=x[14],x[15]!==N||x[16]!==f?(u=(0,s.jsx)("div",{className:"card border-0 shadow-sm rounded-4",children:f.length>0?(0,s.jsx)("div",{className:"list-group list-group-flush",children:f.map(e=>(0,s.jsx)("div",{className:`list-group-item p-3 border-0 border-bottom ${!e.isRead?"bg-light":""}`,onClick:()=>!e.isRead&&N(e.notificationId),style:{cursor:"pointer"},children:(0,s.jsxs)("div",{className:"d-flex",children:[(0,s.jsx)("div",{className:"me-3",children:(0,s.jsx)("i",{className:`bi ${function(e){switch(e){case"answer":return"bi-chat-left-text text-success";case"comment":return"bi-chat-dots text-info";case"vote":return"bi-hand-thumbs-up text-warning";case"accepted":return"bi-check-circle text-success";case"mention":return"bi-at text-primary";default:return"bi-bell text-secondary"}}(e.type)} fs-4`})}),(0,s.jsxs)("div",{className:"flex-grow-1",children:[(0,s.jsx)("p",{className:"mb-1",children:e.message}),(0,s.jsx)("small",{className:"text-muted",children:new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),!e.isRead&&(0,s.jsx)("span",{className:"badge bg-primary rounded-pill",children:"New"})]})},e.notificationId))}):(0,s.jsxs)("div",{className:"card-body text-center py-5",children:[(0,s.jsx)("i",{className:"bi bi-bell-slash fs-1 text-muted mb-3"}),(0,s.jsx)("h5",{children:"No notifications yet"}),(0,s.jsx)("p",{className:"text-muted",children:"When you get notifications, they'll show up here"})]})}),x[15]=N,x[16]=f,x[17]=u):u=x[17],x[18]!==m||x[19]!==u?(h=(0,s.jsx)("div",{className:"container py-4",children:(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("div",{className:"col-lg-8",children:[m,u]})})}),x[18]=m,x[19]=u,x[20]=h):h=x[20],h}e.s(["default",()=>n])}]);